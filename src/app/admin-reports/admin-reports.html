<div class="spinner-container" *ngIf="loading()">
    <mat-progress-spinner mode="indeterminate" diameter="50">
    </mat-progress-spinner>
</div>

<mat-card *ngIf="!loading()" class="reports">
  <h2 style="color: mediumvioletred;">Sales Report</h2>

  <!-- SUMMARY -->
  <div class="summary">
    <mat-card>Total ₹{{ totalSales() }}</mat-card>
    <mat-card>Avg ₹{{ avgSale() }}</mat-card>
    <mat-card>Invoices {{ totalInvoices() }}</mat-card>
  </div>

  <!-- FILTERS -->
  <div class="filters">
    <button mat-raised-button (click)="viewMode.set('WEEK')">This Week</button>
    <button mat-raised-button (click)="viewMode.set('MONTH')">This Month</button>
    <button mat-raised-button (click)="viewMode.set('YEAR')">This Year</button>
    <button mat-raised-button (click)="exportInvoicesPDF()">Export PDF</button>
  </div>

  <!-- CHART -->
  <div id="chartBox">
    <canvas
      baseChart
      [type]="'bar'"
      [data]="chartData()"
      [options]="chartOptions">
    </canvas>
  </div>
</mat-card>

